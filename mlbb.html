<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLBB Top-Up</title>
    <link rel="icon" href="Image/gamershopicontransparent.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <h1><a href="index.html">GamerShop</a></h1>
            <p>Top up your favorite games easily!</p>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <section class="topup-section">
            <h2>Mobile Legends: Bang Bang</h2>

            <!-- User ID Input -->
            <div class="user-input">
                <label for="user-id">Enter User ID:</label>
                <input type="text" id="user-id" placeholder="Enter your game ID">
                <label for="zone-id">Server ID:</label>
                <input type="text" id="zone-id" placeholder="Enter server ID">
            </div>

            <!-- Recharge Options -->
            <div class="recharge-options">
                <h3 id="selected-item-title">Select Item</h3>
                <div class="items">
                    <!-- Item 1 -->
                    <label class="item-box">
                        <input type="radio" name="recharge" hidden onclick="toggleSelection(this, 'ðŸ’Ž 5 Diamonds')">
                        <div class="item-content">
                            <div class="item-header">ðŸ’Ž 5 Diamonds</div>
                            <div class="item-body">
                                <p class="item-price">From â‚±5</p>
                            </div>
                        </div>
                    </label>

                    <!-- Item 2 -->
                    <label class="item-box">
                        <input type="radio" name="recharge" hidden onclick="toggleSelection(this, 'ðŸ’Ž 11 Diamonds')">
                        <div class="item-content">
                            <div class="item-header">ðŸ’Ž 11 Diamonds</div>
                            <div class="item-body">
                                <p class="item-price">From â‚±9.50</p>
                            </div>
                        </div>
                    </label>

                    <!-- Item 3 -->
                    <label class="item-box">
                        <input type="radio" name="recharge" hidden onclick="toggleSelection(this, 'ðŸ’Ž 22 Diamonds')">
                        <div class="item-content">
                            <div class="item-header">ðŸ’Ž 22 Diamonds</div>
                            <div class="item-body">
                                <p class="item-price">From â‚±19</p>
                            </div>
                        </div>
                    </label>

                    <!-- Item 4 -->
                    <label class="item-box">
                        <input type="radio" name="recharge" hidden onclick="toggleSelection(this, 'ðŸ’Ž 56 Diamonds')">
                        <div class="item-content">
                            <div class="item-header">ðŸ’Ž 56 Diamonds</div>
                            <div class="item-body">
                                <p class="item-price">From â‚±47.50</p>
                            </div>
                        </div>
                    </label>

                    <!-- Item 5 -->
                    <label class="item-box">
                        <input type="radio" name="recharge" hidden onclick="toggleSelection(this, 'ðŸ’Ž 112 Diamonds')">
                        <div class="item-content">
                            <div class="item-header">ðŸ’Ž 112 Diamonds</div>
                            <div class="item-body">
                                <p class="item-price">From â‚±95</p>
                            </div>
                        </div>
                    </label>

                    <!-- Item 6 -->
                    <label class="item-box">
                        <input type="radio" name="recharge" hidden onclick="toggleSelection(this, 'ðŸ’Ž 223 Diamonds')">
                        <div class="item-content">
                            <div class="item-header">ðŸ’Ž 223 Diamonds</div>
                            <div class="item-body">
                                <p class="item-price">From â‚±190</p>
                            </div>
                        </div>
                    </label>
                    <!-- Add more items as needed -->
                </div>
            </div>

              <!-- Payment Methods -->
            <div class="payment-method">
                <h3 id="selected-payment-title">Select Payment</h3>
                <div class="payment-options">
                    <!-- Payment Option 1 -->
                    <label class="payment-box">
                        <input type="checkbox" name="payment" hidden onclick="togglePaymentSelection(this, 'GCash')">
                        <div class="payment-content">
                            <img class="payment-image" src="Image/Gcash.png" alt="GCash">
                            <div class="payment-title">GCash</div>
                            <div class="payment-description">Fast and easy</div>
                        </div>
                    </label>

                    <!-- Payment Option 2 -->
                    <label class="payment-box">
                        <input type="checkbox" name="payment" hidden onclick="togglePaymentSelection(this, 'PayPal')">
                        <div class="payment-content">
                            <img class="payment-image" src="Image/Paypal.png" alt="PayPal">
                            <div class="payment-title">PayPal</div>
                            <div class="payment-description">Secure and global</div>
                        </div>
                    </label>

                    <!-- Payment Option 3 -->
                    <label class="payment-box">
                        <input type="checkbox" name="payment" hidden onclick="togglePaymentSelection(this, 'Credit/Debit Card')">
                        <div class="payment-content">
                            <img class="payment-image" src="Image/Visa.png" alt="Credit Card">
                            <div class="payment-title">Credit/Debit Card</div>
                            <div class="payment-description">Pay with a credit or debit card</div>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Buy Now Section -->
            <div class="purchase">
                <h3>Buy Now</h3>
                <button class="buy-button" onclick="handlePurchase()">Buy Now</button>
            </div>
            <div id="success-message" style="display: none; color: green;">
                Successfully purchased <span id="diamonds-amount"></span> Diamonds! Thank you for trusting GamerShop.
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>Â© GamerShop 2024. All rights reserved</p>
    </footer>

    <script>
        // Function to handle the purchase
        function handlePurchase() {
    const selectedItem = document.querySelector('input[name="recharge"]:checked');
    const selectedPayment = document.querySelector('input[name="payment"]:checked');
    const userId = document.getElementById('user-id').value || "Unknown User";
    const zoneId = document.getElementById('zone-id').value || "Unknown Server";

    if (selectedItem && selectedPayment) {
        const amount = selectedItem.nextElementSibling.querySelector('.item-price').textContent;
        const diamonds = selectedItem.nextElementSibling.querySelector('.item-header').textContent;

        const transaction = {
            id: `#${Math.floor(Math.random() * 1000000000)}`,
            date: new Date().toISOString().split('T')[0],
            game: "Mobile Legends",
            amount: amount,
            payment: selectedPayment.nextElementSibling.querySelector('.payment-title').textContent,
            diamonds: diamonds,
            status: "Completed",
            userId: userId,
            zoneId: zoneId,
            image: "Image/mlbb.png"
        };

        let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
        transactions.push(transaction);
        localStorage.setItem('transactions', JSON.stringify(transactions));
        alert(`Transaction successful!`);
            } else {
                alert('Please select a product and payment method.');
            }
        }

        // Function to toggle recharge selection and handle deselect
        let lastSelectedItem = null;

        function toggleSelection(element, selectedText) {
            const title = document.getElementById('selected-item-title');

            if (lastSelectedItem === element) {
                // Deselect the item
                element.checked = false;
                lastSelectedItem = null;
                title.textContent = 'Select Item';
            } else {
                // Deselect the last selected item and select the new one
                if (lastSelectedItem) {
                    lastSelectedItem.checked = false;
                }
                lastSelectedItem = element;
                element.checked = true;
                title.textContent = `Select Item (Selected ${selectedText})`;
            }
        }

        // Function to toggle payment selection and handle deselect
        let lastSelectedPayment = null;

        function togglePaymentSelection(element, selectedPaymentText) {
            const paymentTitle = document.getElementById('selected-payment-title');

            if (lastSelectedPayment === element) {
                // Deselect the payment
                element.checked = false;
                lastSelectedPayment = null;
                paymentTitle.textContent = 'Select Payment';
            } else {
                // Deselect the last selected payment and select the new one
                if (lastSelectedPayment) {
                    lastSelectedPayment.checked = false;
                }
                lastSelectedPayment = element;
                element.checked = true;
                paymentTitle.textContent = `Select Payment (Selected ${selectedPaymentText})`;
            }
        }
    </script>
</body>
</html>
